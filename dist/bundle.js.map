{"version":3,"file":"bundle.js","sources":["webpack://happy-birthday/./script/main.js"],"sourcesContent":["let audioUrl = \"\";\nlet audio = null;\nlet isPlaying = false;\n\n// Import the data to customize and insert them into page\nconst fetchData = () => {\n  fetch(\"wishes.json\")\n    .then((data) => data.json())\n    .then((data) => {\n      dataArr = Object.keys(data);\n      dataArr.map((customData) => {\n        if (data[customData] !== \"\") {\n          if (customData === \"imagePath\") {\n            document\n              .querySelector(`[data-node-name*=\"${customData}\"]`)\n              .setAttribute(\"src\", data[customData]);\n          } else if (customData === \"fonts\") {\n            data[customData].forEach((font) => {\n              const link = document.createElement(\"link\");\n              link.rel = \"stylesheet\";\n              link.href = font.path;\n              document.head.appendChild(link);\n              document.body.style.fontFamily = font.name;\n            });\n          } else if (customData === \"music\") {\n            audioUrl = data[customData];\n            audio = new Audio(audioUrl);\n            audio.preload = \"auto\";\n          } else {\n            document.querySelector(\n              `[data-node-name*=\"${customData}\"]`\n            ).innerText = data[customData];\n          }\n        }\n\n        // Check if the iteration is over\n        // Run amimation if so\n        if (dataArr.length === dataArr.indexOf(customData) + 1) {\n          document\n            .querySelector(\"#startButton\")\n            .addEventListener(\"click\", () => {\n              document.querySelector(\".startSign\").style.display = \"none\";\n              animationTimeline();\n            });\n          // animationTimeline()\n        }\n      });\n    });\n};\n\n// Animation Timeline\nconst animationTimeline = () => {\n  // Spit chars that needs to be animated individually\n  const textBoxChars = document.getElementsByClassName(\"hbd-chatbox\")[0];\n  const hbd = document.getElementsByClassName(\"wish-hbd\")[0];\n\n  textBoxChars.innerHTML = `<span>${textBoxChars.innerHTML\n    .split(\"\")\n    .join(\"</span><span>\")}</span`;\n\n  hbd.innerHTML = `<span>${hbd.innerHTML\n    .split(\"\")\n    .join(\"</span><span>\")}</span`;\n\n  const ideaTextTrans = {\n    opacity: 0,\n    y: -20,\n    rotationX: 5,\n    skewX: \"15deg\",\n  };\n\n  const ideaTextTransLeave = {\n    opacity: 0,\n    y: 20,\n    rotationY: 5,\n    skewX: \"-15deg\",\n  };\n\n  const tl = new TimelineMax();\n\n  tl.to(\".container\", 0.1, {\n    visibility: \"visible\",\n  })\n    .from(\".one\", 0.7, {\n      opacity: 0,\n      y: 10,\n    })\n    .from(\".two\", 0.4, {\n      opacity: 0,\n      y: 10,\n    })\n    .to(\n      \".one\",\n      0.7,\n      {\n        opacity: 0,\n        y: 10,\n      },\n      \"+=2.5\"\n    )\n    .to(\n      \".two\",\n      0.7,\n      {\n        opacity: 0,\n        y: 10,\n      },\n      \"-=1\"\n    )\n    .from(\".three\", 0.7, {\n      opacity: 0,\n      y: 10,\n      // scale: 0.7\n    })\n    .to(\n      \".three\",\n      0.7,\n      {\n        opacity: 0,\n        y: 10,\n      },\n      \"+=2\"\n    )\n    .from(\".four\", 0.7, {\n      scale: 0.2,\n      opacity: 0,\n    })\n    .from(\".fake-btn\", 0.3, {\n      scale: 0.2,\n      opacity: 0,\n    })\n    .staggerTo(\n      \".hbd-chatbox span\",\n      0.5,\n      {\n        visibility: \"visible\",\n      },\n      0.05\n    )\n    .to(\".fake-btn\", 0.1, {\n      backgroundColor: \"#8FE3B6\",\n    })\n    .to(\n      \".four\",\n      0.5,\n      {\n        scale: 0.2,\n        opacity: 0,\n        y: -150,\n      },\n      \"+=0.7\"\n    )\n    .from(\".idea-1\", 0.7, ideaTextTrans)\n    .to(\".idea-1\", 0.7, ideaTextTransLeave, \"+=1.5\")\n    .from(\".idea-2\", 0.7, ideaTextTrans)\n    .to(\".idea-2\", 0.7, ideaTextTransLeave, \"+=1.5\")\n    .from(\".idea-3\", 0.7, ideaTextTrans)\n    .to(\".idea-3 strong\", 0.5, {\n      scale: 1.2,\n      x: 10,\n      backgroundColor: \"rgb(21, 161, 237)\",\n      color: \"#fff\",\n    })\n    .to(\".idea-3\", 0.7, ideaTextTransLeave, \"+=1.5\")\n    .from(\".idea-4\", 0.7, ideaTextTrans)\n    .to(\".idea-4\", 0.7, ideaTextTransLeave, \"+=1.5\")\n    .from(\n      \".idea-5\",\n      0.7,\n      {\n        rotationX: 15,\n        rotationZ: -10,\n        skewY: \"-5deg\",\n        y: 50,\n        z: 10,\n        opacity: 0,\n      },\n      \"+=0.5\"\n    )\n    .to(\n      \".idea-5 .smiley\",\n      0.7,\n      {\n        rotation: 90,\n        x: 8,\n      },\n      \"+=0.4\"\n    )\n    .to(\n      \".idea-5\",\n      0.7,\n      {\n        scale: 0.2,\n        opacity: 0,\n      },\n      \"+=2\"\n    )\n    .staggerFrom(\n      \".idea-6 span\",\n      0.8,\n      {\n        scale: 3,\n        opacity: 0,\n        rotation: 15,\n        ease: Expo.easeOut,\n      },\n      0.2\n    )\n    .staggerTo(\n      \".idea-6 span\",\n      0.8,\n      {\n        scale: 3,\n        opacity: 0,\n        rotation: -15,\n        ease: Expo.easeOut,\n      },\n      0.2,\n      \"+=1\"\n    )\n    .staggerFromTo(\n      \".baloons img\",\n      2.5,\n      {\n        opacity: 0.9,\n        y: 1400,\n      },\n      {\n        opacity: 1,\n        y: -1000,\n      },\n      0.2\n    )\n    .from(\n      \".panda-dp\",\n      0.5,\n      {\n        scale: 3.5,\n        opacity: 0,\n        x: 25,\n        y: -25,\n        rotationZ: -45,\n      },\n      \"-=2\"\n    )\n    .from(\".hat\", 0.5, {\n      x: -100,\n      y: 350,\n      rotation: -180,\n      opacity: 0,\n    })\n    .staggerFrom(\n      \".wish-hbd span\",\n      0.7,\n      {\n        opacity: 0,\n        y: -50,\n        // scale: 0.3,\n        rotation: 150,\n        skewX: \"30deg\",\n        ease: Elastic.easeOut.config(1, 0.5),\n      },\n      0.1\n    )\n    .staggerFromTo(\n      \".wish-hbd span\",\n      0.7,\n      {\n        scale: 1.4,\n        rotationY: 150,\n      },\n      {\n        scale: 1,\n        rotationY: 0,\n        color: \"#ff69b4\",\n        ease: Expo.easeOut,\n      },\n      0.1,\n      \"party\"\n    )\n    .from(\n      \".wish h5\",\n      0.5,\n      {\n        opacity: 0,\n        y: 10,\n        skewX: \"-15deg\",\n      },\n      \"party\"\n    )\n    .staggerTo(\n      \".eight svg\",\n      1.5,\n      {\n        visibility: \"visible\",\n        opacity: 0,\n        scale: 80,\n        repeat: 3,\n        repeatDelay: 1.4,\n      },\n      0.3\n    )\n    .to(\".six\", 0.5, {\n      opacity: 0,\n      y: 30,\n      zIndex: \"-1\",\n    })\n    .staggerFrom(\".nine p\", 1, ideaTextTrans, 1.2)\n    .to(\n      \".last-smile\",\n      0.5,\n      {\n        rotation: 90,\n      },\n      \"+=1\"\n    );\n\n  // tl.seek(\"currentStep\");\n  // tl.timeScale(2);\n\n  // Restart Animation on click\n  const replayBtn = document.getElementById(\"replay\");\n  replayBtn.addEventListener(\"click\", () => {\n    tl.restart();\n  });\n};\n\n// Run fetch and animation in sequence\nfetchData();\n\nconst playPauseButton = document.getElementById(\"playPauseButton\");\n\ndocument.getElementById(\"startButton\").addEventListener(\"click\", () => {\n  if (audio) {\n    togglePlay(true);\n  }\n});\n\nplayPauseButton.addEventListener(\"click\", () => {\n  if (audio) {\n    togglePlay(!isPlaying);\n  }\n});\n\nfunction togglePlay(play) {\n  if (!audio) return;\n\n  isPlaying = play;\n  play ? audio.play() : audio.pause();\n  playPauseButton.classList.toggle(\"playing\", play);\n}\n"],"names":["audioUrl","audio","isPlaying","animationTimeline","textBoxChars","document","hbd","ideaTextTrans","ideaTextTransLeave","tl","TimelineMax","Expo","Elastic","replayBtn","fetch","data","dataArr","Object","customData","font","link","Audio","playPauseButton","togglePlay","play"],"mappings":"sMAAA,IAAIA,EAAW,GACXC,EAAQ,KACRC,EAAY,GAiDVC,EAAoB,KAExB,IAAMC,EAAeC,SAAS,sBAAsB,CAAC,cAAc,CAAC,EAAE,CAChEC,EAAMD,SAAS,sBAAsB,CAAC,WAAW,CAAC,EAAE,AAE1DD,CAAAA,EAAa,SAAS,CAAG,CAAC,MAAM,EAAEA,EAAa,SAAS,CACrD,KAAK,CAAC,IACN,IAAI,CAAC,iBAAiB,MAAM,CAAC,CAEhCE,EAAI,SAAS,CAAG,CAAC,MAAM,EAAEA,EAAI,SAAS,CACnC,KAAK,CAAC,IACN,IAAI,CAAC,iBAAiB,MAAM,CAAC,CAEhC,IAAMC,EAAgB,CACpB,QAAS,EACT,EAAG,IACH,UAAW,EACX,MAAO,OACT,EAEMC,EAAqB,CACzB,QAAS,EACT,EAAG,GACH,UAAW,EACX,MAAO,QACT,EAEMC,EAAK,IAAIC,YAEfD,EAAG,EAAE,CAAC,aAAc,GAAK,CACvB,WAAY,SACd,GACG,IAAI,CAAC,OAAQ,GAAK,CACjB,QAAS,EACT,EAAG,EACL,GACC,IAAI,CAAC,OAAQ,GAAK,CACjB,QAAS,EACT,EAAG,EACL,GACC,EAAE,CACD,OACA,GACA,CACE,QAAS,EACT,EAAG,EACL,EACA,SAED,EAAE,CACD,OACA,GACA,CACE,QAAS,EACT,EAAG,EACL,EACA,OAED,IAAI,CAAC,SAAU,GAAK,CACnB,QAAS,EACT,EAAG,EAEL,GACC,EAAE,CACD,SACA,GACA,CACE,QAAS,EACT,EAAG,EACL,EACA,OAED,IAAI,CAAC,QAAS,GAAK,CAClB,MAAO,GACP,QAAS,CACX,GACC,IAAI,CAAC,YAAa,GAAK,CACtB,MAAO,GACP,QAAS,CACX,GACC,SAAS,CACR,oBACA,GACA,CACE,WAAY,SACd,EACA,KAED,EAAE,CAAC,YAAa,GAAK,CACpB,gBAAiB,SACnB,GACC,EAAE,CACD,QACA,GACA,CACE,MAAO,GACP,QAAS,EACT,EAAG,IACL,EACA,SAED,IAAI,CAAC,UAAW,GAAKF,GACrB,EAAE,CAAC,UAAW,GAAKC,EAAoB,SACvC,IAAI,CAAC,UAAW,GAAKD,GACrB,EAAE,CAAC,UAAW,GAAKC,EAAoB,SACvC,IAAI,CAAC,UAAW,GAAKD,GACrB,EAAE,CAAC,iBAAkB,GAAK,CACzB,MAAO,IACP,EAAG,GACH,gBAAiB,oBACjB,MAAO,MACT,GACC,EAAE,CAAC,UAAW,GAAKC,EAAoB,SACvC,IAAI,CAAC,UAAW,GAAKD,GACrB,EAAE,CAAC,UAAW,GAAKC,EAAoB,SACvC,IAAI,CACH,UACA,GACA,CACE,UAAW,GACX,UAAW,IACX,MAAO,QACP,EAAG,GACH,EAAG,GACH,QAAS,CACX,EACA,SAED,EAAE,CACD,kBACA,GACA,CACE,SAAU,GACV,EAAG,CACL,EACA,SAED,EAAE,CACD,UACA,GACA,CACE,MAAO,GACP,QAAS,CACX,EACA,OAED,WAAW,CACV,eACA,GACA,CACE,MAAO,EACP,QAAS,EACT,SAAU,GACV,KAAMG,KAAK,OAAO,AACpB,EACA,IAED,SAAS,CACR,eACA,GACA,CACE,MAAO,EACP,QAAS,EACT,SAAU,IACV,KAAMA,KAAK,OAAO,AACpB,EACA,GACA,OAED,aAAa,CACZ,eACA,IACA,CACE,QAAS,GACT,EAAG,IACL,EACA,CACE,QAAS,EACT,EAAG,IACL,EACA,IAED,IAAI,CACH,YACA,GACA,CACE,MAAO,IACP,QAAS,EACT,EAAG,GACH,EAAG,IACH,UAAW,GACb,EACA,OAED,IAAI,CAAC,OAAQ,GAAK,CACjB,EAAG,KACH,EAAG,IACH,SAAU,KACV,QAAS,CACX,GACC,WAAW,CACV,iBACA,GACA,CACE,QAAS,EACT,EAAG,IAEH,SAAU,IACV,MAAO,QACP,KAAMC,QAAQ,OAAO,CAAC,MAAM,CAAC,EAAG,GAClC,EACA,IAED,aAAa,CACZ,iBACA,GACA,CACE,MAAO,IACP,UAAW,GACb,EACA,CACE,MAAO,EACP,UAAW,EACX,MAAO,UACP,KAAMD,KAAK,OAAO,AACpB,EACA,GACA,SAED,IAAI,CACH,WACA,GACA,CACE,QAAS,EACT,EAAG,GACH,MAAO,QACT,EACA,SAED,SAAS,CACR,aACA,IACA,CACE,WAAY,UACZ,QAAS,EACT,MAAO,GACP,OAAQ,EACR,YAAa,GACf,EACA,IAED,EAAE,CAAC,OAAQ,GAAK,CACf,QAAS,EACT,EAAG,GACH,OAAQ,IACV,GACC,WAAW,CAAC,UAAW,EAAGJ,EAAe,KACzC,EAAE,CACD,cACA,GACA,CACE,SAAU,EACZ,EACA,OAQJM,AADkBR,SAAS,cAAc,CAAC,UAChC,gBAAgB,CAAC,QAAS,KAClCI,EAAG,OAAO,EACZ,EACF,EA/TEK,MAAM,eACH,IAAI,CAAC,AAACC,GAASA,EAAK,IAAI,IACxB,IAAI,CAAC,AAACA,IAELC,AADAA,CAAAA,QAAUC,OAAO,IAAI,CAACF,EAAI,EAClB,GAAG,CAAC,AAACG,IACc,KAArBH,CAAI,CAACG,EAAW,GACdA,AAAe,cAAfA,EACFb,SACG,aAAa,CAAC,CAAC,kBAAkB,EAAEa,EAAW,EAAE,CAAC,EACjD,YAAY,CAAC,MAAOH,CAAI,CAACG,EAAW,EAC9BA,AAAe,UAAfA,EACTH,CAAI,CAACG,EAAW,CAAC,OAAO,CAAC,AAACC,IACxB,IAAMC,EAAOf,SAAS,aAAa,CAAC,OACpCe,CAAAA,EAAK,GAAG,CAAG,aACXA,EAAK,IAAI,CAAGD,EAAK,IAAI,CACrBd,SAAS,IAAI,CAAC,WAAW,CAACe,GAC1Bf,SAAS,IAAI,CAAC,KAAK,CAAC,UAAU,CAAGc,EAAK,IAAI,AAC5C,GACSD,AAAe,UAAfA,EAGTjB,AADAA,CAAAA,EAAQ,IAAIoB,MADDN,CAAI,CAACG,EAAW,CACD,EACpB,OAAO,CAAG,OAEhBb,SAAS,aAAa,CACpB,CAAC,kBAAkB,EAAEa,EAAW,EAAE,CAAC,EACnC,SAAS,CAAGH,CAAI,CAACG,EAAW,EAM9BF,QAAQ,MAAM,GAAKA,QAAQ,OAAO,CAACE,GAAc,GACnDb,SACG,aAAa,CAAC,gBACd,gBAAgB,CAAC,QAAS,KACzBA,SAAS,aAAa,CAAC,cAAc,KAAK,CAAC,OAAO,CAAG,OACrDF,GACF,EAGN,EACF,GA2RJ,IAAMmB,EAAkBjB,SAAS,cAAc,CAAC,mBAchD,SAASkB,EAAWC,CAAI,EACjBvB,IAELC,EAAYsB,EACZA,EAAOvB,EAAM,IAAI,GAAKA,EAAM,KAAK,GACjCqB,EAAgB,SAAS,CAAC,MAAM,CAAC,UAAWE,GAC9C,CAlBAnB,SAAS,cAAc,CAAC,eAAe,gBAAgB,CAAC,QAAS,KAC3DJ,GACFsB,EAAW,GAEf,GAEAD,EAAgB,gBAAgB,CAAC,QAAS,KACpCrB,GACFsB,EAAW,CAACrB,EAEhB,E"}